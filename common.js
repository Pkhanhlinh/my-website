// Language translations (excluding proper nouns: Kalynk An Tuá»‡, Om.Vibe, Flamingo Äáº¡i Láº£i)
const translations = {
    vi: {
        home: "Home",
        homestay: "Homestay cho ThÃ¢n - TÃ¢m - TrÃ­",
        healing: "THIá»€N THá»¤ Äá»˜NG - Báº±ng Ã‚m Thanh Chá»¯a LÃ nh",
        villa: "BOOKING VILLA FLAMINGO - ChÃ­nh Chá»§",
        healthy: "Trá»‹ liá»‡u cÆ¡ thá»ƒ",
        // Page content translations
        kham_pha_title: "CÃ¡c lÄ©nh vá»±c mÃ  Kalynk An Tuá»‡ cÃ³ thá»ƒ káº¿t ná»‘i cÃ¹ng báº¡n",
        contact_info: "(whatsApp zalo: 0777998858 - 0911858998 - 0966758689)",
        founder_title: "Láº¯ng lÃ²ng nghe hÆ¡i thá»Ÿ, Tháº¥y mÃ¬nh trong tinh khÃ´ng!",
        founder_intro: "ChÃ o báº¡n, má»i báº¡n cá»© gá»i mÃ¬nh lÃ  Kalynk An Tuá»‡ nhÃ©!",
        founder_desc: "MÃ¬nh ghÃ© thÄƒm tháº¿ giá»›i nÃ y vá»›i tÆ° cÃ¡ch lÃ  má»™t \"ngÆ°á»i há»c viá»‡c\" â€” há»c cÃ¡ch thÆ°Æ¡ng, cÃ¡ch hiá»ƒu vÃ  há»c cÃ¡ch láº¯ng nghe.",
        villa_title: "Villa Flamingo Äáº¡i Láº£i - Nghá»‰ dÆ°á»¡ng cao cáº¥p",
        villa_desc: "Tráº£i nghiá»‡m khÃ´ng gian nghá»‰ dÆ°á»¡ng sang trá»ng táº¡i Flamingo Äáº¡i Láº£i",
        healing_title: "Thiá»n Ä‘á»‹nh vÃ  chá»¯a lÃ nh",
        healing_desc: "HÃ nh trÃ¬nh thiá»n thá»¥ Ä‘á»™ng báº±ng Ã¢m thanh chá»¯a lÃ nh",
        healthy_title: "Trá»‹ liá»‡u sá»©c khá»e",
        healthy_desc: "Phá»¥c há»“i vÃ  cÃ¢n báº±ng nÄƒng lÆ°á»£ng cÆ¡ thá»ƒ",
        homestay_title: "Om.Vibe Retreat Mieu Lake",
        homestay_desc: "Homestay cho ThÃ¢n - TÃ¢m - TrÃ­ táº¡i Mieu Lake",
    },
    en: {
        home: "Home",
        homestay: "Homestay for Body - Mind - Spirit",
        healing: "ACTIVE MEDITATION - With Healing Sounds",
        villa: "BOOKING VILLA FLAMINGO - Direct from Owner",
        healthy: "Body Therapy",
        // Page content translations
        kham_pha_title: "Areas Kalynk An Tuá»‡ can connect with you",
        contact_info: "(whatsApp zalo: 0777998858 - 0911858998 - 0966758689)",
        founder_title: "Listen to your breath, See yourself in the infinite!",
        founder_intro: "Hello, please call me Kalynk An Tuá»‡!",
        founder_desc: "I visit this world as a \"learner\" â€” learning to love, to understand, and to listen.",
        villa_title: "Villa Flamingo Dai Lai - Premium Resort",
        villa_desc: "Experience luxury resort living at Flamingo Dai Lai",
        healing_title: "Meditation and Healing",
        healing_desc: "Journey of passive meditation with healing sounds",
        healthy_title: "Health Therapy",
        healthy_desc: "Restore and balance body energy",
        homestay_title: "Om.Vibe Retreat Mieu Lake",
        homestay_desc: "Homestay for Body - Mind - Spirit at Mieu Lake",
    },
    fr: {
        home: "Accueil",
        homestay: "Homestay pour Corps - Esprit - Ã‚me",
        healing: "MÃ‰DITATION ACTIVE - Avec des Sons GuÃ©risseurs",
        villa: "RÃ‰SERVATION VILLA FLAMINGO - PropriÃ©taire",
        healthy: "ThÃ©rapie Corporelle",
        // Page content translations
        kham_pha_title: "Domaines oÃ¹ Kalynk An Tuá»‡ peut vous connecter",
        contact_info: "(whatsApp zalo: 0777998858 - 0911858998 - 0966758689)",
        founder_title: "Ã‰coutez votre souffle, Voyez-vous dans l'infini!",
        founder_intro: "Bonjour, appelez-moi Kalynk An Tuá»‡!",
        founder_desc: "Je visite ce monde en tant que \"apprenant\" â€” apprendre Ã  aimer, Ã  comprendre et Ã  Ã©couter.",
        villa_title: "Villa Flamingo Dai Lai - Station de Luxe",
        villa_desc: "Vivez le luxe Ã  la station Flamingo Dai Lai",
        healing_title: "MÃ©ditation et GuÃ©rison",
        healing_desc: "Voyage de mÃ©ditation passive avec des sons guÃ©risseurs",
        healthy_title: "ThÃ©rapie de SantÃ©",
        healthy_desc: "Restaurer et Ã©quilibrer l'Ã©nergie corporelle",
        homestay_title: "Om.Vibe Retreat Mieu Lake",
        homestay_desc: "Homestay pour Corps - Esprit - Ã‚me Ã  Mieu Lake",
    },
    ja: {
        home: "ãƒ›ãƒ¼ãƒ ",
        homestay: "ãƒ›ãƒ¼ãƒ ã‚¹ãƒ†ãƒ¼ - ä½“ãƒ»å¿ƒãƒ»é­‚",
        healing: "èƒ½å‹•çš„ç‘æƒ³ - ç™’ã—ã®éŸ³",
        villa: "ãƒ´ã‚£ãƒ©ãƒ•ãƒ©ãƒŸãƒ³ã‚´äºˆç´„ - ã‚ªãƒ¼ãƒŠãƒ¼ç›´å–¶",
        healthy: "ãƒœãƒ‡ã‚£ã‚»ãƒ©ãƒ”ãƒ¼",
        // Page content translations
        kham_pha_title: "Kalynk An Tuá»‡ãŒ Ğ²Ğ°Ñã¨ç¹‹ãŒã‚‹åˆ†é‡",
        contact_info: "(whatsApp zalo: 0777998858 - 0911858998 - 0966758689)",
        founder_title: "å‘¼å¸ã«è€³ã‚’å‚¾ã‘ã€ç„¡é™ã®ä¸­ã§è‡ªåˆ†ã‚’è¦‹ã‚ˆã†ï¼",
        founder_intro: "ã“ã‚“ã«ã¡ã¯ã€Kalynk An Tuá»‡ã¨å‘¼ã‚“ã§ãã ã•ã„ï¼",
        founder_desc: "ç§ã¯ã€Œå­¦ã³æ‰‹ã€ã¨ã—ã¦ã“ã®ä¸–ç•Œã‚’è¨ªã‚Œã¦ã„ã¾ã™ â€” çˆ±ã‚’å­¦ã¶ã€ã‚’ç†è§£ã™ã‚‹ã€ãã—ã¦è´ãã“ã¨ã‚’ã€‚",
        villa_title: "ãƒ´ã‚£ãƒ© ãƒ•ãƒ©ãƒŸãƒ³ã‚´ ã‚¿ã‚¤ãƒ©ã‚¤ - é«˜ç´šãƒªã‚¾ãƒ¼ãƒˆ",
        villa_desc: "ãƒ•ãƒ©ãƒŸãƒ³ã‚´ ã‚¿ã‚¤ãƒ©ã‚¤ã§ãƒ©ã‚°ã‚¸ãƒ¥ã‚¢ãƒªãƒ¼ãªãƒªã‚¾ãƒ¼ãƒˆä½“é¨“ã‚’",
        healing_title: "ç‘æƒ³ã¨ç™’ã—",
        healing_desc: "ç™’ã—ã®éŸ³ã«ã‚ˆã‚‹å—å‹•çš„ç‘æƒ³ã®æ—…",
        healthy_title: "å¥åº·ã‚»ãƒ©ãƒ”ãƒ¼",
        healthy_desc: "èº«ä½“ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®å›å¾©ã¨ãƒãƒ©ãƒ³ã‚¹",
        homestay_title: "Om.Vibe Retreat Mieu Lake",
        homestay_desc: "ãƒŸã‚¦æ¹–ã§ã®ãƒ›ãƒ¼ãƒ ã‚¹ãƒ†ãƒ¼ - ä½“ãƒ»å¿ƒãƒ»é­‚",
    },
    ko: {
        home: "í™ˆ",
        homestay: "í™ˆìŠ¤í…Œì´ - ëª¸, ë§ˆìŒ, ì˜í˜¼",
        healing: "ëŠ¥ë™ì  ëª…ìƒ - ì¹˜ìœ  ìŒì„±",
        villa: "í”Œë¼ë°ê³  ë¹Œë¼ ì˜ˆì•½ - ì†Œìœ ì ì§ì˜",
        healthy: "ë°”ë”” í…Œë¼í”¼",
        // Page content translations
        kham_pha_title: "Kalynk An Tuá»‡ê°€ ì—¬ëŸ¬ë¶„ê³¼ ì—°ê²°ë  ìˆ˜ ìˆëŠ” ë¶„ì•¼",
        contact_info: "(whatsApp zalo: 0777998858 - 0911858998 - 0966758689)",
        founder_title: "í˜¸í¡ì— ê·€ ê¸°ìš¸ì´ê³ , ë¬´í•œ ì†ì—ì„œ ìì‹ ì„ ë°œê²¬í•˜ì„¸ìš”!",
        founder_intro: "ì•ˆë…•í•˜ì„¸ìš”, Kalynk An Tuá»‡ë¼ê³  ë¶ˆëŸ¬ì£¼ì„¸ìš”!",
        founder_desc: "ì €ëŠ” 'ë°°ìš°ëŠ” ì‚¬ëŒ'ìœ¼ë¡œì„œ ì´ ì„¸ìƒì„ ë°©ë¬¸í•©ë‹ˆë‹¤ â€” ì‚¬ë‘í•˜ëŠ” ë²•, ì´í•´í•˜ëŠ” ë²•, ê·¸ë¦¬ê³  ê²½ì²­í•˜ëŠ” ë²•ì„ ë°°ì›ë‹ˆë‹¤.",
        villa_title: "í”Œë¼ë°ê³  ë‹¤ì´ë¼ì´ ë¹Œë¼ - í”„ë¦¬ë¯¸ì—„ ë¦¬ì¡°íŠ¸",
        villa_desc: "í”Œë¼ë°ê³  ë‹¤ì´ë¼ì´ì—ì„œ ëŸ­ì…”ë¦¬ ë¦¬ì¡°íŠ¸ ê²½í—˜ì„ ì¦ê¸°ì„¸ìš”",
        healing_title: "ëª…ìƒê³¼ ì¹˜ìœ ",
        healing_desc: "ì¹˜ìœ  ìŒì„±ìœ¼ë¡œ ì¸í•œ ìˆ˜ë™ì  ëª…ìƒì˜ ì—¬ì •",
        healthy_title: "ê±´ê°• í…Œë¼í”¼",
        healthy_desc: "ì‹ ì²´ ì—ë„ˆì§€ íšŒë³µ ë° ê· í˜•",
        homestay_title: "Om.Vibe Retreat Mieu Lake",
        homestay_desc: "ë¯¸ì—ìš° í˜¸ìˆ˜ì—ì„œì˜ í™ˆìŠ¤í…Œì´ - ëª¸, ë§ˆìŒ, ì˜í˜¼",
    },
    zh: {
        home: "é¦–é¡µ",
        homestay: "æ°‘å®¿ - èº«å¿ƒçµ",
        healing: "ä¸»åŠ¨å†¥æƒ³ - ç–—æ„ˆå£°éŸ³",
        villa: "å¼—æ‹‰æ˜æˆˆåˆ«å¢…é¢„è®¢ - ä¸šä¸»ç›´è¥",
        healthy: "èº«ä½“ç–—æ³•",
        // Page content translations
        kham_pha_title: "Kalynk An Tuá»‡å¯ä»¥ä¸æ‚¨è¿æ¥çš„é¢†åŸŸ",
        contact_info: "(whatsApp zalo: 0777998858 - 0911858998 - 0966758689)",
        founder_title: "å€¾å¬å‘¼å¸ï¼Œåœ¨æ— é™ä¸­çœ‹è§è‡ªå·±ï¼",
        founder_intro: "æ‚¨å¥½ï¼Œè¯·å«æˆ‘Kalynk An Tuá»‡ï¼",
        founder_desc: "æˆ‘ä»¥\"å­¦ä¹ è€…\"çš„èº«ä»½æ¥åˆ°è¿™ä¸ªä¸–ç•Œ â€” å­¦ä¹ çˆ±ã€å­¦ä¹ ç†è§£ã€å­¦ä¹ å€¾å¬ã€‚",
        villa_title: "å¼—æ‹‰æ˜æˆˆæˆ´æ¥åˆ«å¢… - è±ªååº¦å‡æ‘",
        villa_desc: "åœ¨å¼—æ‹‰æ˜æˆˆæˆ´æ¥ä½“éªŒè±ªååº¦å‡ç”Ÿæ´»",
        healing_title: "å†¥æƒ³ä¸ç–—æ„ˆ",
        healing_desc: "é€šè¿‡ç–—æ„ˆå£°éŸ³è¿›è¡Œè¢«åŠ¨å†¥æƒ³çš„æ—…ç¨‹",
        healthy_title: "å¥åº·ç–—æ³•",
        healthy_desc: "æ¢å¤å’Œå¹³è¡¡èº«ä½“èƒ½é‡",
        homestay_title: "Om.Vibe Retreat Mieu Lake",
        homestay_desc: "å¦™æ¹–æ°‘å®¿ - èº«å¿ƒçµ",
    },
    ru: {
        home: "Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ",
        homestay: "Ğ“Ğ¾ÑÑ‚ĞµĞ²Ğ¾Ğ¹ Ğ´Ğ¾Ğ¼ - Ğ¢ĞµĞ»Ğ¾ - Ğ Ğ°Ğ·ÑƒĞ¼ - Ğ”ÑƒÑˆĞ°",
        healing: "ĞĞšĞ¢Ğ˜Ğ’ĞĞĞ¯ ĞœĞ•Ğ”Ğ˜Ğ¢ĞĞ¦Ğ˜Ğ¯ - Ğ¡ Ğ˜ÑÑ†ĞµĞ»ÑÑÑ‰Ğ¸Ğ¼Ğ¸ Ğ—Ğ²ÑƒĞºĞ°Ğ¼Ğ¸",
        villa: "Ğ‘Ğ ĞĞĞ˜Ğ ĞĞ’ĞĞĞ˜Ğ• Ğ’Ğ˜Ğ›Ğ›Ğ« Ğ¤Ğ›ĞĞœĞ˜ĞĞ“Ğ - ĞÑ‚ Ğ’Ğ»Ğ°Ğ´ĞµĞ»ÑŒÑ†Ğ°",
        healthy: "Ğ¢ĞµÑ€Ğ°Ğ¿Ğ¸Ñ Ğ¢ĞµĞ»Ğ°",
        // Page content translations
        kham_pha_title: "ĞĞ±Ğ»Ğ°ÑÑ‚Ğ¸, Ğ³Ğ´Ğµ Kalynk An Tuá»‡ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ñ Ğ²Ğ°Ğ¼Ğ¸ ÑĞ²ÑĞ·Ğ°Ñ‚ÑŒÑÑ",
        contact_info: "(whatsApp zalo: 0777998858 - 0911858998 - 0966758689)",
        founder_title: "Ğ¡Ğ»ÑƒÑˆĞ°Ğ¹Ñ‚Ğµ ÑĞ²Ğ¾Ñ‘ Ğ´Ñ‹Ñ…Ğ°Ğ½Ğ¸Ğµ, Ğ£Ğ²Ğ¸Ğ´ÑŒÑ‚Ğµ ÑĞµĞ±Ñ Ğ² Ğ±ĞµÑĞºĞ¾Ğ½ĞµÑ‡Ğ½Ğ¾ÑÑ‚Ğ¸!",
        founder_intro: "Ğ—Ğ´Ñ€Ğ°Ğ²ÑÑ‚Ğ²ÑƒĞ¹Ñ‚Ğµ, Ğ¿Ğ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ½Ğ°Ğ·Ñ‹Ğ²Ğ°Ğ¹Ñ‚Ğµ Ğ¼ĞµĞ½Ñ Kalynk An Tuá»‡!",
        founder_desc: "Ğ¯ Ğ¿Ğ¾ÑĞµÑ‰Ğ°Ñ ÑÑ‚Ğ¾Ñ‚ Ğ¼Ğ¸Ñ€ ĞºĞ°Ğº \"ÑƒÑ‡ĞµĞ½Ğ¸Ğº\" â€” ÑƒÑ‡ÑƒÑÑŒ Ğ»ÑĞ±Ğ¸Ñ‚ÑŒ, Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ñ‚ÑŒ Ğ¸ ÑĞ»ÑƒÑˆĞ°Ñ‚ÑŒ.",
        villa_title: "Ğ’Ğ¸Ğ»Ğ»Ğ° Ğ¤Ğ»Ğ°Ğ¼Ğ¸Ğ½Ğ³Ğ¾ Ğ”Ğ°Ğ¹ Ğ›Ğ°Ğ¹ - Ğ­Ğ»Ğ¸Ñ‚Ğ½Ñ‹Ğ¹ ĞšÑƒÑ€Ğ¾Ñ€Ñ‚",
        villa_desc: "Ğ˜ÑĞ¿Ñ‹Ñ‚Ğ°Ğ¹Ñ‚Ğµ Ñ€Ğ¾ÑĞºĞ¾ÑˆĞ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ´Ñ‹Ñ… Ğ½Ğ° ĞºÑƒÑ€Ğ¾Ñ€Ñ‚Ğµ Ğ¤Ğ»Ğ°Ğ¼Ğ¸Ğ½Ğ³Ğ¾ Ğ”Ğ°Ğ¹ Ğ›Ğ°Ğ¹",
        healing_title: "ĞœĞµĞ´Ğ¸Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ˜ÑÑ†ĞµĞ»ĞµĞ½Ğ¸Ğµ",
        healing_desc: "ĞŸÑƒÑ‚ĞµÑˆĞµÑÑ‚Ğ²Ğ¸Ğµ Ğ¿Ğ°ÑÑĞ¸Ğ²Ğ½Ğ¾Ğ¹ Ğ¼ĞµĞ´Ğ¸Ñ‚Ğ°Ñ†Ğ¸Ğ¸ Ñ Ğ¸ÑÑ†ĞµĞ»ÑÑÑ‰Ğ¸Ğ¼Ğ¸ Ğ·Ğ²ÑƒĞºĞ°Ğ¼Ğ¸",
        healthy_title: "Ğ¢ĞµÑ€Ğ°Ğ¿Ğ¸Ñ Ğ—Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ",
        healthy_desc: "Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ° ÑĞ½ĞµÑ€Ğ³Ğ¸Ğ¸ Ñ‚ĞµĞ»Ğ°",
        homestay_title: "Om.Vibe Retreat Mieu Lake",
        homestay_desc: "Ğ“Ğ¾ÑÑ‚ĞµĞ²Ğ¾Ğ¹ Ğ´Ğ¾Ğ¼ Ğ´Ğ»Ñ Ğ¢ĞµĞ»Ğ° - Ğ Ğ°Ğ·ÑƒĞ¼Ğ° - Ğ”ÑƒÑˆĞ¸ Ğ½Ğ° Ğ¾Ğ·ĞµÑ€Ğµ ĞœÑŒĞµÑƒ",
    }
};

let currentLanguage = 'vi';

function changeLanguage(lang) {
    currentLanguage = lang;
    
    // Update all translatable elements
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });
    
    // Update elements with specific IDs
    const khamPhaTitle = document.querySelector('#kham-pha h2');
    if (khamPhaTitle && translations[lang] && translations[lang].kham_pha_title) {
        khamPhaTitle.textContent = translations[lang].kham_pha_title;
    }
    
    const contactInfo = document.querySelector('#kham-pha small');
    if (contactInfo && translations[lang] && translations[lang].contact_info) {
        contactInfo.textContent = translations[lang].contact_info;
    }
    
    // Save preference
    localStorage.setItem('preferredLanguage', lang);
    
    // Update button text
    const langBtn = document.getElementById('lang-button');
    const langNames = {
        vi: 'Language: Tiáº¿ng Viá»‡t ğŸ‡»ğŸ‡³',
        en: 'Language: English ğŸ‡ºğŸ‡¸',
        fr: 'Language: FranÃ§ais ğŸ‡«ğŸ‡·',
        ja: 'Language: æ—¥æœ¬èª ğŸ‡¯ğŸ‡µ',
        ko: 'Language: í•œêµ­ì–´ ğŸ‡°ğŸ‡·',
        zh: 'Language: ä¸­æ–‡ ğŸ‡¨ğŸ‡³',
        ru: 'Language: Ğ ÑƒÑÑĞºĞ¸Ğ¹ ğŸ‡·ğŸ‡º'
    };
    if (langBtn) {
        langBtn.innerHTML = langNames[lang] + ' â–¼';
    }
    
    // Close dropdown after selection
    const dropdown = langBtn ? langBtn.closest('.dropdown') : null;
    if (dropdown) {
        dropdown.classList.remove('show');
    }
}

function toggleLanguageDropdown(event) {
    event.stopPropagation();
    const dropdown = event.target.closest('.dropdown');
    if (dropdown) {
        dropdown.classList.toggle('show');
    }
}

// Close dropdown when clicking outside
document.addEventListener('click', function(event) {
    if (!event.target.closest('.dropdown')) {
        document.querySelectorAll('.dropdown').forEach(dropdown => {
            dropdown.classList.remove('show');
        });
    }
});

document.addEventListener('DOMContentLoaded', function() {
    // Add header content with navigation buttons (for pages using header-placeholder)
    const headerPlaceholder = document.getElementById('header-placeholder');
    if (headerPlaceholder) {
        headerPlaceholder.innerHTML = `
<div style="display: flex; justify-content: space-between; align-items: center;">
    <div style="font-size: 3em; font-weight: 900; font-family: 'Times New Roman', 'Arial Unicode MS', Arial, sans-serif; text-transform: uppercase;">KALYNK_AN TUá»†</div>
    <div class="nav-buttons">
        <a href="index.html" class="button" data-i18n="home">Home</a>
        <a href="homestay.html" class="button" data-i18n="homestay">Homestay cho ThÃ¢n - TÃ¢m - TrÃ­</a>
        <a href="healing.html" class="button" data-i18n="healing">THIá»€N THá»¤ Äá»˜NG - Báº±ng Ã‚m Thanh Chá»¯a LÃ nh</a>
        <a href="villa.html" class="button" data-i18n="villa">BOOKING VILLA FLAMINGO - ChÃ­nh Chá»§</a>
        <a href="healthy.html" class="button" data-i18n="healthy">Trá»‹ liá»‡u cÆ¡ thá»ƒ</a>
    </div>
</div>
`;
    }

    // Check for saved language preference
    const savedLang = localStorage.getItem('preferredLanguage');
    if (savedLang && translations[savedLang]) {
        currentLanguage = savedLang;
    }

    // Add language switcher to header (works for both inline headers and header-placeholder)
    const headerDiv = document.querySelector('#header-placeholder > div') || document.querySelector('header > div');
    if (headerDiv) {
        // Check if language switcher already exists
        if (!document.getElementById('language-switcher')) {
            const langSwitcher = document.createElement('div');
            langSwitcher.id = 'language-switcher';
            langSwitcher.innerHTML = `
                <div class="dropdown">
                    <button id="lang-button" class="lang-btn" onclick="toggleLanguageDropdown(event)">
                        Language: Tiáº¿ng Viá»‡t ğŸ‡»ğŸ‡³ â–¼
                    </button>
                    <div class="dropdown-content">
                        <a href="#" onclick="changeLanguage('vi'); return false;">Tiáº¿ng Viá»‡t ğŸ‡»ğŸ‡³</a>
                        <a href="#" onclick="changeLanguage('en'); return false;">English ğŸ‡ºğŸ‡¸</a>
                        <a href="#" onclick="changeLanguage('fr'); return false;">FranÃ§ais ğŸ‡«ğŸ‡·</a>
                        <a href="#" onclick="changeLanguage('ja'); return false;">æ—¥æœ¬èª ğŸ‡¯ğŸ‡µ</a>
                        <a href="#" onclick="changeLanguage('ko'); return false;">í•œêµ­ì–´ ğŸ‡°ğŸ‡·</a>
                        <a href="#" onclick="changeLanguage('zh'); return false;">ä¸­æ–‡ ğŸ‡¨ğŸ‡³</a>
                        <a href="#" onclick="changeLanguage('ru'); return false;">Ğ ÑƒÑÑĞºĞ¸Ğ¹ ğŸ‡·ğŸ‡º</a>
                    </div>
                </div>
            `;
            
            // Insert at the beginning of the header div
            headerDiv.insertBefore(langSwitcher, headerDiv.firstChild);
            
            // Add data-i18n attributes to navigation buttons
            const navButtons = headerDiv.querySelectorAll('.nav-buttons .button, .buttons .button');
            const buttonKeys = ['home', 'homestay', 'healing', 'villa', 'healthy'];
            navButtons.forEach((button, index) => {
                if (buttonKeys[index]) {
                    button.setAttribute('data-i18n', buttonKeys[index]);
                }
            });
            
            // Apply saved language
            changeLanguage(currentLanguage);
        }
    }

    // Add active class to current page button
    let currentPage = window.location.pathname.split('/').pop() || 'index.html';
    let activeLink = document.querySelector(`a[href="${currentPage}"]`);
    if (activeLink) {
        activeLink.classList.add('active');
    }

    // Add mobile bottom navigation bar
    const footer = document.querySelector('footer');
    if (footer) {
        const mobileNav = document.createElement('div');
        mobileNav.className = 'mobile-bottom-nav';
        mobileNav.innerHTML = `
            <div class="nav-buttons">
                <a href="index.html" class="button" data-i18n="home">Home</a>
                <a href="homestay.html" class="button" data-i18n="homestay">Homestay</a>
                <a href="healing.html" class="button" data-i18n="healing">Healing</a>
                <a href="villa.html" class="button" data-i18n="villa">Flamingo</a>
                <a href="healthy.html" class="button" data-i18n="healthy">Healthy</a>
            </div>
        `;
        footer.parentNode.insertBefore(mobileNav, footer);
        
        // Set active class on mobile bottom nav
        const mobileActiveLink = mobileNav.querySelector(`a[href="${currentPage}"]`);
        if (mobileActiveLink) {
            mobileActiveLink.classList.add('active');
        }
    }
});

// Make functions available globally
window.changeLanguage = changeLanguage;
window.toggleLanguageDropdown = toggleLanguageDropdown;
